<main class="container-fluid p-5">

   <section class="container my-3 row justify-content-md-left" [formGroup]="formProgramas">
      <header class="col">
         <h1 class="h1">Administrador de Programas</h1>
      </header>
      <div class="col col-lg-2 justify-content-center">
         <button type="button" class="btn btn-block cls-btnAgregar rounded-pill shadow-sm" (click)="crear()">
            <i class="h2 bi bi-plus-square"></i>
         </button>
      </div>
   </section>

   <section class="mb-5">
      <form [formGroup]="formProgramas">
         <div class="row register-form">

            <div class="col-md-6">
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" formControlName="nombrePrograma"
                     placeholder="Nombre del programa" required />
               </div>
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" formControlName="cantidadSemestres"
                     placeholder="Semestres" required />
               </div>
               <div class="form-group py-1">
                  <select class="form-select rounded-pill" placeholder="Nivel Académico" required
                     formControlName="nivelAcademico">
                     <option value="" disabled selected hidden>Nivel Académico</option>
                     <option value="Técnico Profesional">Técnico Profesional</option>
                     <option value="Tecnologíca">Tecnologíca</option>
                     <option value="Pregrado">Pregrado</option>
                     <option value="Especiialización">Posgrado: Especialización</option>
                     <option value="Maestria">Posgrado: Maestria</option>
                     <option value="Doctorado">Posgrado: Doctorado</option>
                     <option value="Curso">Formación Continuada: Cursos</option>
                     <option value="Diplomado">Formación Continuada: Diplomado</option>
                  </select>
               </div>
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" formControlName="costo" placeholder="Costo"
                     required />
               </div>
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" formControlName="descripcion"
                     placeholder="Descripción" required />
               </div>
            </div>

            <div class="col-md-6">
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" formControlName="codigoPrograma"
                     placeholder="Código del programa" required />
               </div>
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" formControlName="cantidadCreditos"
                     placeholder="Créditos" required />
               </div>
               <div class="form-group py-1">
                  <select class="form-select rounded-pill" required placeholder="Modalidad" formControlName="modalidad">
                     <option value="" disabled selected hidden>Modalidad</option>
                     <option value="Presencial">Presencial</option>
                     <option value="Semipresencial">Semipresencial</option>
                     <option value="Virtual">Virtual</option>
                  </select>
               </div>
               <div class="form-group py-1">
                  <input type="text" class="form-control rounded-pill" placeholder="Imágen" formControlName="imagen"
                     required />
               </div>
               <div class="form-group py-1">
                  <input readonly type="text" class="form-control rounded-pill" formControlName="fechaCreacion"
                     placeholder="Fecha Creación" value="" />
               </div>
            </div>

         </div>

         <div class="row justify-content-center py-3">
            <button *ngIf="modoCrud == 'crear'" (click)="postPrograma()"
               class="btn btn-outline-success rounded-pill mx-1 cls-button-1">
               Registrar Programa
            </button>
            <button *ngIf="modoCrud == 'actualizar'" (click)="patchPrograma()"
               class="btn btn-outline-success rounded-pill mx-1 cls-button-1">
               Editar Programa
            </button>
            <button (click)="limpiarFormulario()" class="btn btn-outline-danger rounded-pill mx-1 cls-button-1">
               Limpiar
            </button>
         </div>
      </form>
   </section>

   <section class="m-0 p-0">
      <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class=""
         class="hover compact nowrap">
         <thead>
            <tr>
               <th class="text-center">Nombres</th>
               <th class="text-center">Código</th>
               <th class="text-center">Semestres</th>
               <th class="text-center">Créditos</th>
               <th class="text-center">Nivel Académico</th>
               <th class="text-center">Modalidad</th>
               <th class="text-center">Acciones</th>
            </tr>
         </thead>

         <tbody>
            <tr *ngFor="let list of listaProgramas">
               <td scope="col">{{list.nombrePrograma}}</td>
               <td scope="col">{{list.codigoPrograma}}</td>
               <td scope="col">{{list.cantidadSemestres}}</td>
               <td scope="col">{{list.cantidadCreditos}}</td>
               <td scope="col">{{list.nivelAcademico}}</td>
               <td scope="col">{{list.modalidad}}</td>
               <td scope="col">
                  <a type="button" class="btn btn-outline-warning me-1 rounded-pill" (click)="actualizar(list)">
                     <i class="bi bi-pencil-square"></i>
                  </a>
                  <a type="button" class="btn btn-outline-danger me-1 rounded-pill" (click)="deletePrograma(list)">
                     <i class="bi bi-trash"></i>
                  </a>
                  <a type="button" class="btn btn-outline-dark me-1 rounded-pill">
                     <i class="bi bi-book"></i>
                  </a>
               </td>
            </tr>
         </tbody>
      </table>
   </section>

</main>