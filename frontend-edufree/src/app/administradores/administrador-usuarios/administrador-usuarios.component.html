<main class=" m-5 pt-1">

    <section class="my-5 mt-5 row justify-content-md-left" [formGroup]="formUsuario">
        <header class="col-6">
            <h1 class="h1">Administrador de usuarios</h1>
        </header>
        <div class="col-1 justify-content-center">
            <button type="button"
                class="btn btn-block cls-btnAgregar rounded-pill shadow-sm" (click)="iniciarAdicion()">
                <i class="h3 bi bi-person-plus-fill"></i></button>
        </div>
        <div class="col-5 justify-content-center">
            <select class="custom-select cls-select p-1 rounded-pill" formControlName="rol">
                <option class="hidden" selected disabled>Elige el Rol ... </option>
                <option *ngFor="let i of listaRoles" value="{{i.nombrePerfil}}">{{i.nombrePerfil}}</option>
            </select>
        </div>
    </section>

    <section class="mb-5">
        <form [formGroup]="formUsuario">
            <div class="row register-form">
                <div class="col-md-6">
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Nombres" value=""
                            formControlName="nombresUsuario" />

                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Correo Electrónico" value=""
                            formControlName="correoElectronico" />
                    </div>

                    <div class="form-group py-1">
                        <select class="form-select rounded-pill" placeholder="Tipo Identificacion"
                            formControlName="tipoIdentificacion">
                            <option value="" disabled selected hidden>Tipo Identificacion</option>
                            <option value="Tarjeta de Identidad">Tarjeta de Identidad</option>
                            <option value="Cedula de Ciudadania">Cedula de Ciudadania</option>
                            <option value="Cedula de Extranjeria">Cedula de Extranjeria</option>
                            <option value="Pasaporte">Pasaporte</option>
                            <option value="Numero de Identificacion Personal">Numero de Identificacion Personal</option>
                        </select>
                    </div>
                    <div class="form-group py-1">
                        <select class="form-select rounded-pill"
                            placeholder="Por favor selecciona el Programa Acádemico"
                            formControlName="programaAcademicoId">
                            <option value="" disabled selected hidden>Selecciona el Programa Acádemico</option>
                            <option *ngFor="let i of listaProgramas" value="{{i.id}}">{{i.nombrePrograma}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Fecha Creación" readonly
                            formControlName="fechaCreacion" />
                    </div>

                </div>

                <div class="col-md-6">
                    <div class="form-group py-1">
                        <input type="email" class="form-control rounded-pill" placeholder="Apellidos"
                            formControlName="apellidosUsuario" />
                    </div>
                    <div class="form-group py-1">
                        <input type="text" minlength="10" maxlength="10" name="txtEmpPhone"
                            class="form-control rounded-pill" placeholder="Teléfono" value=""
                            formControlName="telefono" />
                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Numero Identificacion"
                            value="" formControlName="noIdentificacion" />
                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Usuario" value=""
                            formControlName="usuario" />
                    </div>

                    <div class="form-group py-1">
                        <input type="password" id="contrasenia" class="form-control rounded-pill"
                            formControlName="contrasenia" placeholder="Contraseña" required/>

                    </div>

                </div>
            </div>

            <div class="row justify-content-center py-3">
                <button *ngIf="modoCrud == 'adicion'" type="submit"
                    class="btn btn-outline-success rounded-pill mx-1 cls-button-1" value="Registrar Usuario"
                    (click)="crearUsuario()">Registrar Nuevo
                    Usuario</button>

                <button *ngIf="modoCrud == 'edicion'" type="submit"
                    class="btn btn-outline-success rounded-pill mx-1 cls-button-1" value="Editar Usuario"
                    (click)="Editar()">Editar
                    Usuario</button>

                <button class="btn btn-outline-danger rounded-pill mx-1 cls-button-1"
                    value="Registrar Usuario" (click)="Limpiar()">Limpiar</button>
            </div>
        </form>
    </section>

    <section class="m-0 p-0">
        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
            class="table-responsive row hover">

            <thead class="">
                <tr>
                    <th class="text-center">Nombres</th>
                    <th class="text-center">Apellidos</th>
                    <th class="text-center">Tipo Identificacion</th>
                    <th class="text-center">Numero Identificacion</th>
                    <th class="text-center"class="text-center">Correo Electrónico</th>
                    <th class="text-center">Programa Acádemico</th>
                    <th class="text-center">Telefono</th>
                    <th class="text-center">Rol</th>
                    <!-- <th class="text-center">Usuario</th>
                    <th class="text-center">Contraseña</th> 
                    <th class="text-center">Fecha de Creacion</th>-->
                    <th class="text-center">Acciones</th>
                </tr>
            </thead>
 
            <tbody>
                <tr *ngFor="let list of listaUsuarios">
                    <td scope="col"> {{list.nombresUsuario}} </td>
                    <td scope="col"> {{list.apellidosUsuario}} </td>
                    <td scope="col"> {{list.tipoIdentificacion}} </td>
                    <td scope="col"> {{list.noIdentificacion}} </td>
                    <td scope="col"> {{list.correoElectronico}} </td>
                    <td scope="col"> {{list.programaAcademicoId}} </td>
                    <td scope="col"> {{list.telefono}} </td>
                    <td scope="col"> {{list.rol}} </td>
                    <!-- <td scope="col"> {{list.usuario}} </td>
                    <td scope="col"> {{list.contrasenia}} </td> 
                    <td scope="col"> {{list.fechaCreacion}} </td>-->
                    <td scope="col">
                        <a type="button" class="btn btn-outline-dark me-1 rounded-pill"
                            (click)="IniciarEdicion(list)"><i class="bi bi-pencil-square "></i></a>

                        <a type="button" class="btn btn-outline-danger me-1 rounded-pill" (click)="EmininarUsuario(list)"><i
                                class="bi bi-trash"></i></a>
                    </td>
                </tr>

            </tbody>

        </table>
    </section>

</main>
