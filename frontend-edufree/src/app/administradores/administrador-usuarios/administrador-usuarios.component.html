<main class="container-fluid p-5">
    <header class="container-fluid header m-0">
        <h1 class="text-center h1">Administrador de usuarios</h1>
    </header>

    <section class="d-flex flex-row justify-content-center py-2" [formGroup]="formUsuario">
        <button type="button" class="btn cls-btnAgregar btn-default me-3 rounded-pill" (click)="iniciarAdicion()"><i
                class="bi bi-person-plus-fill"></i></button>

        <select class="custom-select cls-select p-1 rounded-pill" formControlName="rol">
            <option class="hidden" selected disabled>Elige el Rol ... </option>
            <option *ngFor="let i of listaRoles" value="{{i.nombrePerfil}}">{{i.nombrePerfil}}</option>
        </select>

    </section>

    <section class="mb-5">
        <form [formGroup]="formUsuario">
            <div class="row register-form" [formGroup]="formUsuario">
                <div class="col-md-6">
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Nombres" value=""
                            formControlName="nombresUsuario" />

                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Correo Electrónico" value=""
                            formControlName="correoElectronico" />
                    </div>

                    <div class="form-group py-1">
                        <select class="form-select rounded-pill" placeholder="Tipo Identificacion"
                            formControlName="tipoIdentificacion">
                            <option value="" disabled selected hidden>Tipo Identificacion</option>
                            <option value="Tarjeta de Identidad">Tarjeta de Identidad</option>
                            <option value="Cedula de Ciudadania">Cedula de Ciudadania</option>
                            <option value="Cedula de Extranjeria">Cedula de Extranjeria</option>
                            <option value="Pasaporte">Pasaporte</option>
                            <option value="Numero de Identificacion Personal">Numero de Identificacion Personal</option>
                        </select>
                    </div>
                    <div class="form-group py-1">
                        <select class="form-select rounded-pill"
                            placeholder="Por favor selecciona el Programa Acádemico"
                            formControlName="programaAcademicoId">
                            <option value="" disabled selected hidden>Selecciona el Programa Acádemico</option>
                            <option *ngFor="let i of listaProgramas" value="{{i.id}}">{{i.nombrePrograma}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Fecha Creación" readonly
                            formControlName="fechaCreacion" />
                    </div>

                </div>

                <div class="col-md-6">
                    <div class="form-group py-1">
                        <input type="email" class="form-control rounded-pill" placeholder="Apellidos"
                            formControlName="apellidosUsuario" />
                    </div>
                    <div class="form-group py-1">
                        <input type="text" minlength="10" maxlength="10" name="txtEmpPhone"
                            class="form-control rounded-pill" placeholder="Teléfono" value=""
                            formControlName="telefono" />
                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Numero Identificacion"
                            value="" formControlName="noIdentificacion" />
                    </div>
                    <div class="form-group py-1">
                        <input type="text" class="form-control rounded-pill" placeholder="Usuario" value=""
                            formControlName="usuario" />
                    </div>

                    <div class="form-group py-1">
                        <input type="password" id="contrasenia" class="form-control rounded-pill"
                            formControlName="contrasenia" placeholder="Contraseña" required/>

                    </div>

                </div>
            </div>

            <div class="d-flex justify-content-center py-3">
                <button *ngIf="modoCrud == 'adicion'" type="submit"
                    class="btn btn-outline-success rounded-pill mx-1 cls-button-1" value="Registrar Usuario"
                    (click)="crearUsuario()">Registrar Nuevo
                    Usuario</button>

                <button *ngIf="modoCrud == 'edicion'" type="submit"
                    class="btn btn-outline-success rounded-pill mx-1 cls-button-1" value="Editar Usuario"
                    (click)="Editar()">Editar
                    Usuario</button>

                <button type="submit" class="btn btn-outline-danger rounded-pill mx-1 cls-button-1"
                    value="Registrar Usuario" (click)="Limpiar()">Limpiar</button>
            </div>
        </form>
    </section>

    <section class="m-0 p-0">
        <table class="table table-responsive table-hover table-sm">

            <thead class="">
                <tr>
                    <th scope="col">Nombres</th>
                    <th scope="col">Apellidos</th>
                    <th scope="col">Correo Electrónico</th>
                    <th scope="col">Numero Identificacion</th>
                    <th scope="col">Tipo Identificacion</th>
                    <th scope="col">Programa Acádemico</th>
                    <th scope="col">Telefono</th>
                    <th scope="col">Rol</th>
                    <th scope="col">Usuario</th>
                    <th scope="col">Contraseña</th>
                    <th scope="col">Fecha de Creacion</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let list of listaUsuarios">
                    <td> {{list.nombresUsuario}} </td>
                    <td> {{list.apellidosUsuario}} </td>
                    <td> {{list.correoElectronico}} </td>
                    <td> {{list.noIdentificacion}} </td>
                    <td> {{list.tipoIdentificacion}} </td>
                    <td> {{list.programaAcademicoId}} </td>
                    <td> {{list.telefono}} </td>
                    <td> {{list.rol}} </td>
                    <td> {{list.usuario}} </td>
                    <td> {{list.contrasenia}} </td>
                    <td> {{list.fechaCreacion}} </td>
                    <td>
                        <a type="button" class="btn btn-outline-dark me-1 rounded-pill"
                            (click)="IniciarEdicion(list)"><i class="bi bi-pencil-square "></i></a>

                        <a type="button" class="btn btn-outline-danger me-1 rounded-pill" (click)="EmininarUsuario(list)"><i
                                class="bi bi-trash"></i></a>
                    </td>
                </tr>

            </tbody>

        </table>
    </section>

</main>
